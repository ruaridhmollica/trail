<!DOCTYPE html>
<html lang="en">

{{template "head.html"}}

<body writeit-autostart>

   <script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js', {scope: '/'})
        .then(function(registration) {
            console.log('Registration successful, scope is:', registration.scope);
        })
        .catch(function(error) {
            console.log('Service worker registration failed, error:', error);
        });
    }
    </script>

    {{template "nav.html"}}


    <div class="mobhide">
        <!--GREETING AND FACT DESKTOP-->
        <div class="pt-4 textcol justify-content-center d-flex align-items-center mobhide">
            <p writeit-animate id="greeting" class="mobhide"></p>
        </div>

        <div class="container fact justify-content-center d-flex align-items-center mobhide pt-0 pb-0">
            <i class="fas fa-search ftitle pr-3"> </i>
            <p id="fact" class="mobhide animated fadeIn pl-2"></p>
        </div>
        <hr class="justify-content-center hr" style="width: 65%;">
        <br>
        <!--/GREETING AND FACT DESKTOP-->
    </div>

    <div class="deskhide">
        <!--GREETING AND FACT MOBILE-->
        <div class="pl-3 pt-2 pb-0 mb-0 textcolmob d-flex align-items-center deskhide">
            <p writeit-animate id="greeting2" class="deskhide"></p>
        </div>
        <div class="pl-3 pt-0 mt-0 pb-0 factmob align-items-center deskhide">
            <i class="fas fa-search ftitle pr-2"> </i>
            <p id="fact2" class="deskhide animated fadeIn"></p>
        </div>
        <hr class="justify-content-center hr pt-0" style="width: 85%;">
        <div class="pt-1 pb-0 factmob align-items-center justify-content-center deskhide text-center p-2">
            <button class="btn btn-success justify-content-center w-90 h-20" style="font-weight: bolder; font-size: medium; opacity: 70%;" onclick="window.location.href = '/tour'">
                Begin The Tour</button>
            <p class="deskhide" style="font-size: small;"> If you are on campus click the button above to start the tour, 
                or select <i class="fas fa-tree"></i> from the nav bar.</p>
        </div>
        <hr class="justify-content-center hr pt-0" style="width: 85%;">
        <!--/GREETING AND FACT MOBILE-->
    </div>

    <canvas class="p-4" id="lineChart"></canvas>





    {{template "mobnav.html"}}
    <script>
        var myDate = new Date();
        var hrs = myDate.getHours();

        var greet;

        if (hrs < 12)
            greet = 'Good Morning';
        else if (hrs >= 12 && hrs <= 16)
            greet = 'Good Afternoon';
        else if (hrs >= 16 && hrs <= 24)
            greet = 'Good Evening';

        document.getElementById('greeting').innerHTML = greet;
        document.getElementById('greeting2').innerHTML = greet;
    </script>
    {{template "scripts.html"}}


    <script>
        var navTitle = '{{.navtitle}}';
        document.getElementById('navtitle').innerHTML = navTitle;
        document.getElementById('navtitle2').innerHTML = navTitle;
    </script>

    <script>
        function fact() {
            var json = (function () {
                var json = null;
                $.ajax({
                    'async': false,
                    'global': false,
                    'url': "/static/facts.json",
                    'dataType': "json",
                    'success': function (data) {
                        json = data;
                    }
                });
                return json;
            })();
            let randomIndex = Math.floor(Math.random() * 25)
            document.getElementById('fact').innerHTML = json[randomIndex];
            document.getElementById('fact2').innerHTML = json[randomIndex];
        }

        fact();
        setInterval(function () {
            fact()
        }, 20000)
    </script>
    <script>

  //line
  var ctxL = document.getElementById("lineChart").getContext('2d');
  var myLineChart = new Chart(ctxL, {
    type: 'pie',
    data: {
      labels: ['Number of Trees on campus'],
      datasets: [{
        label: "Oak",
		  data: ['55'],
        backgroundColor: [
          'rgb(0, 184, 0, 0.5)'
        ],
        borderColor: 'white',
        borderWidth: 2,
      },
      {
        label: "Birch",
        data: ['128'],
        backgroundColor: [
          'white',
        ],
        borderColor: 'rgb(0, 184, 0, 0.5)',
        borderWidth: 2,
      },
      {
        label: "Rowan",
        data: ['75'],
        backgroundColor: [
          'rgb(0, 184, 0, 0.5)',
        ],
        borderColor: 'white',
        borderWidth: 2,
      },
      {
        label: "Pine",
        data: ['200'],
        backgroundColor: [
          'white',
        ],
        borderColor: 'rgb(0, 184, 0, 0.5)',
        borderWidth: 2,
      }
      ]
    },

    options: {
      responsive: true
    }
  });

// Options
const optionsChartOptionsExample = {
  options: {
    scales: {
      xAxes: [
        {
          ticks: {
            fontColor: '#4285F4',
          },
        },
      ],
      yAxes: [
        {
          ticks: {
            fontColor: '#f44242',
          },
        },
      ],
    },
  },
};
    </script>
</body>
{{template "footer.html"}}